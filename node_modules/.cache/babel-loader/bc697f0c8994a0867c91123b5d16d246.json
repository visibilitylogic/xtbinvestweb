{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/codabae/Documents/Projects/TradeTroyProject/tradeweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/codabae/Documents/Projects/TradeTroyProject/tradeweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/codabae/Documents/Projects/TradeTroyProject/tradeweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Component}from\"react\";import Favicon from\"react-favicon\";import\"../AccountsAsset/dash.css\";import{Route,Switch,useHistory,Redirect,NavLink}from\"react-router-dom\";import Sidebar from\"../Component/Sidebar\";import AdminSidebar from\"../Component/AdminSidebar\";import TradingViewWidget,{Themes}from\"react-tradingview-widget\";import{Select,message}from\"antd\";import\"antd/dist/antd.css\";import axios from\"axios\";var LoginApp=function LoginApp(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(props.user?props.user:null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var admin=true;var manager=false;var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),loginBackgroundImage=_useState6[0],setLoginBackgroundImage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),loginCarouselImage1=_useState8[0],setLoginCarouselImage1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),loginCarouselImage2=_useState10[0],setLoginCarouselImage2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),loginCarouselImage3=_useState12[0],setLoginCarouselImage3=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),submitLoading=_useState14[0],setSubmitLoading=_useState14[1];var endpoint=\"https://bridgegatebackend.herokuapp.com\";var closeForex=function closeForex(){console.log(\"input a function here to close forex\");};// constructor(props) {\n//   super(props);\n//   this.state = {\n//     user: this.props.user,\n//     redirect: \"/\",\n//     data: {},\n//     orders: [],\n//     disA1: true,\n//     disA2: true,\n//     btcP: [],\n//     market: false,\n//     board: false,\n//     port: false,\n//     manager: false,\n//     levIsh: false,\n//     admin: true,\n//   };\nvar myRef3=props.user.user?/*#__PURE__*/React.createRef():\"\";var textInput=props.user.user?/*#__PURE__*/React.createRef():\"\";// }\nvar token=\"pk_135c1daf1b8d4130b9318fd5e8ab0e5e\";var fav=document.getElementById(\"favicon\");var title=document.getElementById(\"title\");var dataAll={loginBackgroundImage:loginBackgroundImage,loginCarouselImage1:loginCarouselImage1,loginCarouselImage2:loginCarouselImage2,loginCarouselImage3:loginCarouselImage3};useEffect(function(){if(props.site){setLoginBackgroundImage(props.web.web.loginBackgroundImage);setLoginCarouselImage1(props.web.web.loginCarouselImage1);setLoginCarouselImage2(props.web.web.loginCarouselImage2);setLoginCarouselImage3(props.web.web.loginCarouselImage3);}},[]);var onSaved=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitLoading(true);_context.next=3;return axios.put(\"\".concat(endpoint,\"/api/site/loginlayout\"),dataAll);case 3:res=_context.sent;if(res.data){message.success(\"Settings successfully updated\");setSubmitLoading(false);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSaved(){return _ref.apply(this,arguments);};}();var LoginCarouselImage1=function LoginCarouselImage1(e){e.preventDefault();if(e){var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onloadend=function(){setLoginCarouselImage1(reader.result);};}};var LoginCarouselImage2=function LoginCarouselImage2(e){e.preventDefault();if(e){var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onloadend=function(){setLoginCarouselImage2(reader.result);};}};var LoginCarouselImage3=function LoginCarouselImage3(e){e.preventDefault();if(e){var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onloadend=function(){setLoginCarouselImage3(reader.result);};}};var LoginBackgroundImage3=function LoginBackgroundImage3(e){e.preventDefault();if(e){var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onloadend=function(){setLoginBackgroundImage(reader.result);};}};useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://bridgegatebackend.herokuapp.com/api/trade/\".concat(user.user?user.user.user._id:\"\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;// this.setState({\n//   orders: data,\n// });\nsetOrders(data);case 7:case\"end\":return _context2.stop();}}},_callee2);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,CurrentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://bridgegatebackend.herokuapp.com/api/trade/user/\".concat(user.user?user.user.user._id:\"\"));case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:CurrentUser=_context3.sent;setUser(CurrentUser);case 7:case\"end\":return _context3.stop();}}},_callee3);}))();if(props.user.user){var script3=document.createElement(\"script\");script3.src=\"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";script3.async=true;myRef3.current.appendChild(script3);}},[]);if(props.user.length===0){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{// console.log(this.state.orderIsh);\nreturn/*#__PURE__*/_jsx(\"div\",{ref:myRef3,children:/*#__PURE__*/_jsx(\"section\",{className:\"dash-contents\",onClick:closeForex,children:/*#__PURE__*/_jsxs(\"div\",{className:\"dash-row\",children:[/*#__PURE__*/_jsx(Sidebar,{user:props.user,site:props.site}),admin?/*#__PURE__*/_jsxs(\"div\",{className:\"full-width dash-row\",style:{paddingLeft:0,paddingBottom:35,overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"public-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dtls\",children:[/*#__PURE__*/_jsx(\"h4\",{className:true,children:\"Your First Carousel Image\"}),/*#__PURE__*/_jsx(\"p\",{children:\"It's recommended to use a SVG logo for increase the quality\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Max upload size : 64 MB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"img\",{src:loginCarouselImage1,className:\"logo\"}),/*#__PURE__*/_jsx(\"input\",{onChange:LoginCarouselImage1,type:\"file\",name:\"siteLogo\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dtls\",children:[/*#__PURE__*/_jsx(\"h4\",{className:true,children:\"Your Second Carousel Image\"}),/*#__PURE__*/_jsx(\"p\",{children:\"It's recommended to use a SVG logo for increase the quality\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Max upload size : 64 MB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"img\",{src:loginCarouselImage2,className:\"logo\"}),/*#__PURE__*/_jsx(\"input\",{onChange:LoginCarouselImage2,type:\"file\",name:\"siteLogo\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dtls\",children:[/*#__PURE__*/_jsx(\"h4\",{className:true,children:\"Your Thrid Carousel Image\"}),/*#__PURE__*/_jsx(\"p\",{children:\"It's recommended to use a SVG logo for increase the quality\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Max upload size : 64 MB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"img\",{src:loginCarouselImage3,className:\"logo\"}),/*#__PURE__*/_jsx(\"input\",{onChange:LoginCarouselImage3,type:\"file\",name:\"siteLogo\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dtls\",children:[/*#__PURE__*/_jsx(\"h4\",{className:true,children:\"Your Login Background Image\"}),/*#__PURE__*/_jsx(\"p\",{children:\"It's recommended to use a SVG logo for increase the quality\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Max upload size : 64 MB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"img\",{src:loginBackgroundImage,className:\"logo\"}),/*#__PURE__*/_jsx(\"input\",{onChange:LoginBackgroundImage3,type:\"file\",name:\"siteLogo\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"save-btn\",children:/*#__PURE__*/_jsxs(\"button\",{disabled:submitLoading,onClick:onSaved,children:[/*#__PURE__*/_jsx(\"i\",{className:submitLoading?\"fa fa spinner\":\"\"}),\" Save\"]})})]})]}):\"\"]})})});}};export default LoginApp;","map":{"version":3,"sources":["/home/codabae/Documents/Projects/TradeTroyProject/tradeweb/src/Pages/LoginApp.js"],"names":["React","useState","useEffect","Component","Favicon","Route","Switch","useHistory","Redirect","NavLink","Sidebar","AdminSidebar","TradingViewWidget","Themes","Select","message","axios","LoginApp","props","orders","setOrders","user","setUser","admin","manager","loginBackgroundImage","setLoginBackgroundImage","loginCarouselImage1","setLoginCarouselImage1","loginCarouselImage2","setLoginCarouselImage2","loginCarouselImage3","setLoginCarouselImage3","submitLoading","setSubmitLoading","endpoint","closeForex","console","log","myRef3","createRef","textInput","token","fav","document","getElementById","title","dataAll","site","web","onSaved","put","res","data","success","LoginCarouselImage1","e","preventDefault","reader","FileReader","readAsDataURL","target","files","onloadend","result","LoginCarouselImage2","LoginCarouselImage3","LoginBackgroundImage3","fetch","_id","response","json","CurrentUser","script3","createElement","src","async","current","appendChild","length","paddingLeft","paddingBottom","overflow"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component } from \"react\";\nimport Favicon from \"react-favicon\";\nimport \"../AccountsAsset/dash.css\";\nimport { Route, Switch, useHistory, Redirect, NavLink } from \"react-router-dom\";\nimport Sidebar from \"../Component/Sidebar\";\n\nimport AdminSidebar from \"../Component/AdminSidebar\";\nimport TradingViewWidget, { Themes } from \"react-tradingview-widget\";\nimport { Select, message } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport axios from \"axios\";\nconst LoginApp=(props)=> {\n  const [orders, setOrders] = useState();\n  const [user, setUser] = useState(props.user ? props.user : null);\n\n  const admin=true\n  const manager=false\n  const[loginBackgroundImage,setLoginBackgroundImage] = useState(\"\")\n  const[loginCarouselImage1, setLoginCarouselImage1]=useState(\"\")\n  const[loginCarouselImage2, setLoginCarouselImage2]=useState(\"\")\n  const[loginCarouselImage3, setLoginCarouselImage3]=useState(\"\")\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const endpoint = \"https://bridgegatebackend.herokuapp.com\";\n  const closeForex = () => {\n    console.log(\"input a function here to close forex\");\n  };\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     user: this.props.user,\n  //     redirect: \"/\",\n  //     data: {},\n  //     orders: [],\n  //     disA1: true,\n  //     disA2: true,\n  //     btcP: [],\n  //     market: false,\n  //     board: false,\n  //     port: false,\n  //     manager: false,\n  //     levIsh: false,\n  //     admin: true,\n  //   };\n    const myRef3 = props.user.user ? React.createRef() : \"\";\n    const textInput = props.user.user ? React.createRef() : \"\";\n  // }\n  const  token = \"pk_135c1daf1b8d4130b9318fd5e8ab0e5e\";\nconst  fav = document.getElementById(\"favicon\");\n const title = document.getElementById(\"title\");\n  let dataAll={\n    loginBackgroundImage: loginBackgroundImage,\n    loginCarouselImage1:loginCarouselImage1,\n    loginCarouselImage2:loginCarouselImage2,\n    loginCarouselImage3:loginCarouselImage3\n  }\n  useEffect(()=>{\n\nif(props.site){\n  setLoginBackgroundImage(props.web.web.loginBackgroundImage);\n  setLoginCarouselImage1(props.web.web.loginCarouselImage1);\n  setLoginCarouselImage2(props.web.web.loginCarouselImage2);\n  setLoginCarouselImage3(props.web.web.loginCarouselImage3);\n\n}\n\n  },[])\n\n  const onSaved = async () => {\n    setSubmitLoading(true);\n    const res = await axios.put(\n      `${endpoint}/api/site/loginlayout`,\n      dataAll\n    );\n\n    if (res.data) {\n      message.success(\"Settings successfully updated\");\n      setSubmitLoading(false);\n    }\n  };\n  const LoginCarouselImage1 = (e) => {\n    e.preventDefault();\n    if (e) {\n      const reader = new FileReader();\n      reader.readAsDataURL(e.target.files[0]);\n      reader.onloadend = () => {\n        setLoginCarouselImage1(reader.result);\n      };\n    }\n  };\n  const LoginCarouselImage2 = (e) => {\n    e.preventDefault();\n    if (e) {\n      const reader = new FileReader();\n      reader.readAsDataURL(e.target.files[0]);\n      reader.onloadend = () => {\n        setLoginCarouselImage2(reader.result);\n      };\n    }\n  };\n  const LoginCarouselImage3 = (e) => {\n    e.preventDefault();\n    if (e) {\n      const reader = new FileReader();\n      reader.readAsDataURL(e.target.files[0]);\n      reader.onloadend = () => {\n        setLoginCarouselImage3(reader.result);\n      };\n    }\n  };\n  const LoginBackgroundImage3 = (e) => {\n    e.preventDefault();\n    if (e) {\n      const reader = new FileReader();\n      reader.readAsDataURL(e.target.files[0]);\n      reader.onloadend = () => {\n        setLoginBackgroundImage(reader.result);\n      };\n    }\n  };\n  useEffect(()=>{\n    (async () => {\n      let response = await fetch(\n        `https://bridgegatebackend.herokuapp.com/api/trade/${\n          user.user ? user.user.user._id : \"\"\n        }`\n      );\n      let data = await response.json();\n      // this.setState({\n      //   orders: data,\n      // });\n      setOrders(data)\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://bridgegatebackend.herokuapp.com/api/trade/user/${\n          user.user ? user.user.user._id : \"\"\n        }`\n      );\n      let CurrentUser = await response.json();\nsetUser(CurrentUser)\n    })();\n\n    if (props.user.user) {\n      const script3 = document.createElement(\"script\");\n      script3.src = \"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";\n      script3.async = true;\n\n      myRef3.current.appendChild(script3);\n    }\n  },[])\n\n\n    if (props.user.length === 0) {\n      return <Redirect to=\"/\" />;\n    } else {\n      // console.log(this.state.orderIsh);\n\n      return (\n        <div ref={myRef3}>\n          {/* Beggining of navbar */}\n\n          {/* Ending of navbar */}\n          {/* Beginning of contents */}\n          <section className=\"dash-contents\" onClick={closeForex}>\n            <div className=\"dash-row\">\n              <Sidebar user={props.user} site={props.site} />\n\n              {/* start route */}\n\n              {/* start route */}\n              {admin ? (\n                <div\n                  className=\"full-width dash-row\"\n                  style={{\n                    paddingLeft: 0,\n                    paddingBottom: 35,\n                    overflow: \"hidden\",\n                  }}\n                >\n                  <AdminSidebar />\n\n                  <div className=\"admin-content\">\n                    <div className=\"public-card\">\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4 className>Your First Carousel Image</h4>\n                          <p>\n                            It's recommended to use a SVG logo for increase the\n                            quality\n                          </p>\n                          <p>Max upload size : 64 MB</p>\n                        </div>\n                        <div className=\"actions\">\n                          <img src={loginCarouselImage1}  className=\"logo\" />\n                          <input onChange={LoginCarouselImage1} type=\"file\" name=\"siteLogo\" />\n                        </div>\n                      </div>\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4 className>Your Second Carousel Image</h4>\n                          <p>\n                            It's recommended to use a SVG logo for increase the\n                            quality\n                          </p>\n                          <p>Max upload size : 64 MB</p>\n                        </div>\n                        <div className=\"actions\">\n                          <img src={loginCarouselImage2} className=\"logo\" />\n                          <input onChange={LoginCarouselImage2} type=\"file\" name=\"siteLogo\" />\n                        </div>\n                      </div>\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4 className>Your Thrid Carousel Image</h4>\n                          <p>\n                            It's recommended to use a SVG logo for increase the\n                            quality\n                          </p>\n                          <p>Max upload size : 64 MB</p>\n                        </div>\n                        <div className=\"actions\">\n                          <img src={loginCarouselImage3} className=\"logo\" />\n                          <input onChange={LoginCarouselImage3} type=\"file\" name=\"siteLogo\" />\n                        </div>\n                      </div>\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4 className>Your Login Background Image</h4>\n                          <p>\n                            It's recommended to use a SVG logo for increase the\n                            quality\n                          </p>\n                          <p>Max upload size : 64 MB</p>\n                        </div>\n                        <div className=\"actions\">\n                          <img src={loginBackgroundImage} className=\"logo\" />\n                          <input onChange={LoginBackgroundImage3} type=\"file\" name=\"siteLogo\" />\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"save-btn\">\n                      <button disabled={submitLoading} onClick={onSaved}><i className={submitLoading?\"fa fa spinner\":\"\"}></i> Save</button>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                \"\"\n              )}\n\n              {/* {this.state.admin ? () : ''\n\n             } */}\n\n              {/* storrrrrp */}\n            </div>\n          </section>\n        </div>\n      );\n    }\n  }\n\n\nexport default LoginApp;\n"]},"metadata":{},"sourceType":"module"}