{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/codabae/Documents/Projects/tradeweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/codabae/Documents/Projects/tradeweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/codabae/Documents/Projects/tradeweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Component}from\"react\";import\"../AccountsAsset/dash.css\";import{Route,Switch,useHistory,Redirect,NavLink}from\"react-router-dom\";import Sidebar from\"../Component/Sidebar\";import{Select,message}from\"antd\";import axios from\"axios\";import\"antd/dist/antd.css\";import AdminSidebar from\"../Component/AdminSidebar\";import TradingViewWidget,{Themes}from\"react-tradingview-widget\";var endpoint=\"https://bridgegatebackend.herokuapp.com\";var Bitcoin=function Bitcoin(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(props.user?props.user:null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var closeForex=function closeForex(){console.log(\"input a function here to close forex\");};var myRef3=props.user.user?/*#__PURE__*/React.createRef():\"\";var textInput=props.user.user?/*#__PURE__*/React.createRef():\"\";var manager=false;var admin=true;var token=\"pk_135c1daf1b8d4130b9318fd5e8ab0e5e\";var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),paymentSuccessText=_useState6[0],setpaymentSuccessText=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),paymentRefPattern=_useState8[0],setpaymentRefPattern=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),paymentNeedsApproval=_useState10[0],setpaymentNeedsApproval=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),masterCardStatus=_useState12[0],setmasterCardStatus=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),bitCoinStatus=_useState14[0],setbitCoinStatus=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),btcHeaderText=_useState16[0],setbtcHeaderText=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),btcAddress=_useState18[0],setbtcAddress=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),buyBTCLink=_useState20[0],setbuyBTCLink=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),submitLoading=_useState22[0],setSubmitLoading=_useState22[1];var dataAll={paymentSuccessText:paymentSuccessText,paymentRefPattern:paymentRefPattern,paymentNeedsApproval:paymentNeedsApproval,masterCardStatus:masterCardStatus,bitCoinStatus:bitCoinStatus,buyBTCLink:buyBTCLink,btcAddress:btcAddress,btcHeaderText:btcHeaderText};var onSaved=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitLoading(true);_context.next=3;return axios.put(\"\".concat(endpoint,\"/api/site/paymentsettings\"),dataAll);case 3:res=_context.sent;if(res.data){message.success(\"Settings successfully updated\");setSubmitLoading(false);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSaved(){return _ref.apply(this,arguments);};}();useState(function(){if(props.site){setpaymentSuccessText(props.site.site[0].paymentSuccessText);setpaymentRefPattern(props.site.site[0].paymentRefPattern);setpaymentNeedsApproval(props.site.site[0].paymentNeedsApproval);setmasterCardStatus(props.site.site[0].masterCardStatus);setbitCoinStatus(props.site.site[0].bitCoinStatus);setbtcHeaderText(props.site.site[0].btcHeaderText);setbtcAddress(props.site.site[0].btcAddress);setbuyBTCLink(props.site.site[0].buyBTCLink);}},[]);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://bridgegatebackend.herokuapp.com/api/trade/\".concat(user.user?user.user.user._id:\"\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;setOrders(data);case 7:case\"end\":return _context2.stop();}}},_callee2);}))();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,CurrentUser;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://bridgegatebackend.herokuapp.com/api/trade/user/\".concat(user.user?user.user.user._id:\"\"));case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:CurrentUser=_context3.sent;setUser(CurrentUser);case 7:case\"end\":return _context3.stop();}}},_callee3);}))();if(props.user.user){var script3=document.createElement(\"script\");script3.src=\"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";script3.async=true;myRef3.current.appendChild(script3);}},[]);if(props.user.length===0){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{// console.log(this.state.orderIsh);\nreturn/*#__PURE__*/_jsx(\"div\",{ref:myRef3,children:/*#__PURE__*/_jsx(\"section\",{className:\"dash-contents\",onClick:closeForex,children:/*#__PURE__*/_jsxs(\"div\",{className:\"dash-row\",children:[/*#__PURE__*/_jsx(Sidebar,{user:props.user,site:props.site}),admin?/*#__PURE__*/_jsxs(\"div\",{className:\"full-width dash-row\",style:{paddingLeft:0,paddingBottom:35,overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"public-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Enable Bitcoin\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions switch-field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"switch-field-round\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"enable-payment-one\",name:\"enable-payment\",defaultValue:\"yes\",onChange:function onChange(e){return setbitCoinStatus(e.target.checked?true:false);},checked:bitCoinStatus===true?true:false}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"enable-payment-one\",children:\"ON\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"enable-payment-two\",name:\"enable-payment\",defaultValue:\"no\",onChange:function onChange(e){return setbitCoinStatus(e.target.checked?false:true);},checked:bitCoinStatus===false?true:false}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"enable-payment-two\",children:\"OFF\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Header Text\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"text\",name:\"text\",onChange:function onChange(e){return setbtcHeaderText(e.target.value);},value:btcHeaderText})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"BTC Address\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"text\",name:\"text\",value:btcAddress,onChange:function onChange(e){return setbtcAddress(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"each-row dash-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dtls\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Buy BTC Link\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"input\",{className:\"dash-input\",type:\"text\",name:\"text\",value:buyBTCLink,onChange:function onChange(e){return setbuyBTCLink(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"save-btn\",children:/*#__PURE__*/_jsx(\"button\",{disabled:submitLoading,onClick:onSaved,children:\"Save\"})})]})})]}):\"\"]})})});}};export default Bitcoin;","map":{"version":3,"sources":["/home/codabae/Documents/Projects/tradeweb/src/Pages/Bitcoin.js"],"names":["React","useState","useEffect","Component","Route","Switch","useHistory","Redirect","NavLink","Sidebar","Select","message","axios","AdminSidebar","TradingViewWidget","Themes","endpoint","Bitcoin","props","orders","setOrders","user","setUser","closeForex","console","log","myRef3","createRef","textInput","manager","admin","token","paymentSuccessText","setpaymentSuccessText","paymentRefPattern","setpaymentRefPattern","paymentNeedsApproval","setpaymentNeedsApproval","masterCardStatus","setmasterCardStatus","bitCoinStatus","setbitCoinStatus","btcHeaderText","setbtcHeaderText","btcAddress","setbtcAddress","buyBTCLink","setbuyBTCLink","submitLoading","setSubmitLoading","dataAll","onSaved","put","res","data","success","site","fetch","_id","response","json","CurrentUser","script3","document","createElement","src","async","current","appendChild","length","paddingLeft","paddingBottom","overflow","e","target","checked","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component } from \"react\";\nimport \"../AccountsAsset/dash.css\";\nimport { Route, Switch, useHistory, Redirect, NavLink } from \"react-router-dom\";\nimport Sidebar from \"../Component/Sidebar\";\nimport { Select, message } from \"antd\";\nimport axios from \"axios\";\nimport \"antd/dist/antd.css\";\nimport AdminSidebar from \"../Component/AdminSidebar\";\nimport TradingViewWidget, { Themes } from \"react-tradingview-widget\";\nconst endpoint = \"https://bridgegatebackend.herokuapp.com\";\n\nconst Bitcoin=(props)=>{\n  const [orders, setOrders] = useState();\n  const [user, setUser] = useState(props.user ? props.user : null);\n  const closeForex = () => {\n    console.log(\"input a function here to close forex\");\n  };\n    const myRef3 = props.user.user ? React.createRef() : \"\";\n    const textInput = props.user.user ? React.createRef() : \"\";\n \n  const manager=false\n  const admin=true\n  const token = \"pk_135c1daf1b8d4130b9318fd5e8ab0e5e\";\n  const[paymentSuccessText ,setpaymentSuccessText]=useState(\"\")\n  const[paymentRefPattern ,setpaymentRefPattern]=useState(\"\")\n  const[paymentNeedsApproval ,setpaymentNeedsApproval]=useState(null)\n  const[masterCardStatus,setmasterCardStatus]=useState(null)\n  const[bitCoinStatus,setbitCoinStatus]=useState(null)\n\nconst[btcHeaderText,setbtcHeaderText]=useState(\"\")\nconst[btcAddress,setbtcAddress]=useState(\"\")\nconst[buyBTCLink,setbuyBTCLink]=useState(\"\")\nconst [submitLoading, setSubmitLoading] = useState(false);\n  const dataAll={\n    paymentSuccessText :paymentSuccessText,\n      paymentRefPattern :paymentRefPattern,\n      paymentNeedsApproval :paymentNeedsApproval,\n      masterCardStatus:masterCardStatus,\n      bitCoinStatus:bitCoinStatus,\n      buyBTCLink:buyBTCLink,\n      btcAddress:btcAddress,\n      btcHeaderText:btcHeaderText\n  }\n\n    const onSaved = async () => {\n      setSubmitLoading(true);\n      const res = await axios.put(\n        `${endpoint}/api/site/paymentsettings`,\n        dataAll\n      );\n    \n      if (res.data) {\n        message.success(\"Settings successfully updated\");\n        setSubmitLoading(false);\n      }\n    };\n    useState(()=>{\n      if (props.site) {\n\nsetpaymentSuccessText(props.site.site[0].paymentSuccessText);\n    setpaymentRefPattern(props.site.site[0].paymentRefPattern);\n    setpaymentNeedsApproval(props.site.site[0].paymentNeedsApproval);\n    setmasterCardStatus(props.site.site[0].masterCardStatus);\n    setbitCoinStatus(props.site.site[0].bitCoinStatus);\n    setbtcHeaderText(props.site.site[0].btcHeaderText);\n    setbtcAddress(props.site.site[0].btcAddress);\n    setbuyBTCLink(props.site.site[0].buyBTCLink);\n\n\n      }},[])\n\n  useEffect(()=>{\n\n\n    (async () => {\n      let response = await fetch(\n        `https://bridgegatebackend.herokuapp.com/api/trade/${\n          user.user ? user.user.user._id : \"\"\n        }`\n      );\n      let data = await response.json();\n      setOrders(data)\n    })();\n\n    (async () => {\n      let response = await fetch(\n        `https://bridgegatebackend.herokuapp.com/api/trade/user/${\n          user.user ? user.user.user._id : \"\"\n        }`\n      );\n      let CurrentUser = await response.json();\n\n    setUser(CurrentUser)\n    })();\n\n    if (props.user.user) {\n      const script3 = document.createElement(\"script\");\n      script3.src = \"https://cdn.jsdelivr.net/gh/codabae/hostjs/dashUPPER15.js\";\n      script3.async = true;\n\n      myRef3.current.appendChild(script3);\n    }\n  },[])\n\n\n    if (props.user.length === 0) {\n      return <Redirect to=\"/\" />;\n    } else {\n      // console.log(this.state.orderIsh);\n\n      return (\n        <div ref={myRef3}>\n          {/* Beggining of navbar */}\n\n          {/* Ending of navbar */}\n          {/* Beginning of contents */}\n          <section className=\"dash-contents\" onClick={closeForex}>\n            <div className=\"dash-row\">\n              <Sidebar user={props.user} site={props.site} />\n\n              {/* start route */}\n\n              {/* start route */}\n              {admin ? (\n                <div\n                  className=\"full-width dash-row\"\n                  style={{\n                    paddingLeft: 0,\n                    paddingBottom: 35,\n                    overflow: \"hidden\",\n                  }}\n                >\n                  <AdminSidebar />\n\n                  <div className=\"admin-content\">\n                    <div className=\"public-card\">\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4>Enable Bitcoin</h4>\n                        </div>\n                        <div className=\"actions switch-field\">\n                          <div className=\"switch-field-round\">\n                            <input\n                              type=\"radio\"\n                              id=\"enable-payment-one\"\n                              name=\"enable-payment\"\n                              defaultValue=\"yes\"\n                              onChange={(e) =>\n                                setbitCoinStatus(\n                                  e.target.checked ? true : false\n                                )\n                              }\n                              checked={bitCoinStatus === true ? true : false}\n                            />\n                            <label htmlFor=\"enable-payment-one\">ON</label>\n                            <input\n                              type=\"radio\"\n                              id=\"enable-payment-two\"\n                              name=\"enable-payment\"\n                              defaultValue=\"no\"\n                              onChange={(e) =>\n                                setbitCoinStatus(\n                                  e.target.checked ? false : true\n                                )\n                              }\n                              checked={bitCoinStatus=== false ? true : false}\n                            />\n                            <label htmlFor=\"enable-payment-two\">OFF</label>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4>Header Text</h4>\n                        </div>\n                        <div className=\"actions\">\n                          <input\n                            className=\"dash-input\"\n                            type=\"text\"\n                            name=\"text\"\n                            onChange={e=>setbtcHeaderText(e.target.value)}\n                            value={btcHeaderText}\n                          />\n                        </div>\n                      </div>\n                      \n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4>BTC Address</h4>\n                        </div>\n                        <div className=\"actions\">\n                          <input\n                            className=\"dash-input\"\n                            type=\"text\"\n                            name=\"text\"\n                            value={btcAddress}\n                            onChange={e=>setbtcAddress(e.target.value)}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"each-row dash-row\">\n                        <div className=\"dtls\">\n                          <h4>Buy BTC Link</h4>\n                        </div>\n                        <div className=\"actions\">\n                          <input\n                            className=\"dash-input\"\n                            type=\"text\"\n                            name=\"text\"\n                            value={buyBTCLink}\n                            onChange={e=>setbuyBTCLink(e.target.value)}\n                          />\n                        </div>\n                      </div>\n                     \n                      <div className=\"save-btn\">\n                        <button disabled={submitLoading} onClick={onSaved}>Save</button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                \"\"\n              )}\n\n              {/* {this.state.admin ? () : ''\n\n             } */}\n\n              {/* storrrrrp */}\n            </div>\n          </section>\n        </div>\n      );\n    }\n  }\n\n\nexport default Bitcoin;\n"]},"metadata":{},"sourceType":"module"}